{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% block title %}Make It Work, make it Right, Make it Fast{% endblock%}
{% block content %}
  <form action="">
    <div class="input-group mb-3 search-bar">
      <span class="input-group-text" id="SearchBar">
        <i class="fa fa-search" style="font-family: FontAwesome;"></i>
      </span>
      <input type="text" class="form-control border-2 border-secondary rounded-3" placeholder="Search" aria-label="Search"
        aria-describedby="SearchBar">
    </div>
  </form>
  <div class="row my-4">
    <div class="col-6"><h3>All Questions</h3></div>
    <div class="col-6 d-flex justify-content-end">
      {% if request.user.is_authenticated %}
      <a href="{% url 'question:qn-create' %}" class="btn btn-primary">Ask Question</a>
      {% else %}
      <button type="button" class="btn btn-primary" id="ask-qn">
        Ask Question
        </button>
      {% endif %}
    </div>
  </div>
  <div class="row my-3">
    <div class="col-md-4">
      <p>87409 Questions</p>
    </div>
    <div class="col-md-8 text-lg-end col-sm-12 text-sm-center">
      <div class="btn-group" role="group" aria-label="Basic outlined example">
        <button type="button" class="btn btn-outline-secondary">Newest</button>
        <button type="button" class="btn btn-outline-secondary">Top</button>
        <button type="button" class="btn btn-outline-secondary">Right</button>
        <button type="button" class="btn btn-outline-secondary">Views</button>
        <button type="button" class="btn btn-outline-secondary">Oldest</button>
      </div>
    </div>
  </div>
  {% for question in questions %}
  <div class="card py-3 px-1 my-3">
    <div class="row d-flex align-items-center">
      <div class="col-2 text-center">
        <div><strong>4</strong></div>
        <div>
          <p>Votes</p>
        </div>
        <div><strong>4</strong></div>
        <div class="mt-2">
          <p>Answers</p>
        </div>
      </div>
      <div class="col-10">
        <a href="{% url 'question:question-detail' question.id %}">
          <h4>
            {{question.title}}
          </h4>
        </a>
        <p class="question-paragraph">
          {{ question.description|safe|striptags|truncatechars:300 }}
        </p>
        <div class="row">
          <div class="col-md-12 d-inline-flex">
            {% for tag in question.tags.all %}
            <h5><span class="badge bg-primary me-2">{{ tag.name}}</span></h5>
          {% endfor %}
          </div>
        </div>
      </div>
    </div>

  </div>
  {% endfor %}
{% endblock %}
